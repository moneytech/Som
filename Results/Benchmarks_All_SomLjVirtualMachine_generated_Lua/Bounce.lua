-- generated by SomLjVirtualMachine on Sa. Aug. 29 23:05:07 2020

local metaclass = Bounce
local class = Bounce._class
local function _block(f) local t = { _f = f }; setmetatable(t,Block._class); return t end
local _str = _primitives._newString
local _sym = _primitives._newSymbol
local _dbl = _primitives._newDouble
local _cl = _primitives._checkLoad

function class.benchmark(self)
	local ballCount
	local balls
	local bounces
	(Random):initialize();
	ballCount = (100);
	bounces = (0);
	balls = (Array):new_withAll_(ballCount,_block( function()
				return (Ball):new()
	end ));
	((1)):to_do_((50),_block( function(i)
				return (balls):do_(_block( function(ball)
						return ((ball):bounce()):ifTrue_(_block( function()
				bounces = (bounces):_0p((1))
				return bounces
			end ))
		end ))
	end ));
	return bounces;
end

function class.verifyResult_(self,result)
	return (self):assert_equals_((1331),result);
end

